!function(){"use strict";var e,t={198:function(e,t,i){var n=i(671),s=i(144),r=i(136),u=i(215),o=i(798);function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=(0,o.Z)(e);if(t){var s=(0,o.Z)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,u.Z)(this,i)}}var c=function(e){(0,r.Z)(i,e);var t=a(i);function i(){var e;return(0,n.Z)(this,i),(e=t.call(this)).cachedResults={},e.input=e.querySelector('input[type="search"]'),e.predictiveSearchResults=e.querySelector("[data-predictive-search]"),e.isOpen=!1,e.setupEventListeners(),e}return(0,s.Z)(i,[{key:"setupEventListeners",value:function(){var e=this;this.querySelector("form.search").addEventListener("submit",this.onFormSubmit.bind(this)),this.input.addEventListener("input",debounce((function(t){e.onChange(t)}),300).bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.addEventListener("keyup",this.onKeyup.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this))}},{key:"getQuery",value:function(){return this.input.value.trim()}},{key:"onChange",value:function(){var e=this.getQuery();e.length?this.getSearchResults(e):this.close(!0)}},{key:"onFormSubmit",value:function(e){this.getQuery().length&&!this.querySelector('[aria-selected="true"] a')||e.preventDefault()}},{key:"onFocus",value:function(){var e=this.getQuery();e.length&&("true"===this.getAttribute("results")?this.open():this.getSearchResults(e))}},{key:"onFocusOut",value:function(){var e=this;setTimeout((function(){e.contains(document.activeElement)||e.close()}))}},{key:"onKeyup",value:function(e){switch(this.getQuery().length||this.close(!0),e.preventDefault(),e.code){case"ArrowUp":this.switchOption("up");break;case"ArrowDown":this.switchOption("down");break;case"Enter":this.selectOption()}}},{key:"onKeydown",value:function(e){"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()}},{key:"switchOption",value:function(e){if(this.getAttribute("open")){var t="up"===e,i=this.querySelector('[aria-selected="true"]'),n=this.querySelectorAll("li"),s=this.querySelector("li");t&&!i||(this.statusElement.textContent="",!t&&i?s=i.nextElementSibling||n[0]:t&&(s=i.previousElementSibling||n[n.length-1]),s!==i&&(s.setAttribute("aria-selected",!0),i&&i.setAttribute("aria-selected",!1),this.setLiveRegionText(s.textContent),this.input.setAttribute("aria-activedescendant",s.id)))}}},{key:"selectOption",value:function(){var e=this.querySelector('[aria-selected="true"] a, [aria-selected="true"] button');e&&e.click()}},{key:"getSearchResults",value:function(e){var t=this,i=e.replace(" ","-").toLowerCase();this.setLiveRegionLoadingState(),this.cachedResults[i]?this.renderSearchResults(this.cachedResults[i]):fetch("".concat(routes.predictive_search_url,"?q=").concat(encodeURIComponent(e),"&").concat(encodeURIComponent("resources[type]"),"=product&").concat(encodeURIComponent("resources[limit]"),"=4&section_id=predictive-search")).then((function(e){if(!e.ok){var i=new Error(e.status);throw t.close(),i}return e.text()})).then((function(e){var n=(new DOMParser).parseFromString(e,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;t.cachedResults[i]=n,t.renderSearchResults(n)})).catch((function(e){throw t.close(),e}))}},{key:"setLiveRegionLoadingState",value:function(){this.statusElement=this.statusElement||this.querySelector(".predictive-search-status"),this.loadingText=this.loadingText||this.getAttribute("data-loading-text"),this.setLiveRegionText(this.loadingText),this.setAttribute("loading",!0)}},{key:"setLiveRegionText",value:function(e){var t=this;this.statusElement.setAttribute("aria-hidden","false"),this.statusElement.textContent=e,setTimeout((function(){t.statusElement.setAttribute("aria-hidden","true")}),1e3)}},{key:"renderSearchResults",value:function(e){this.predictiveSearchResults.innerHTML=e,this.setAttribute("results",!0),this.setLiveRegionResults(),this.open()}},{key:"setLiveRegionResults",value:function(){this.removeAttribute("loading"),this.setLiveRegionText(this.querySelector("[data-predictive-search-live-region-count-value]").textContent)}},{key:"getResultsMaxHeight",value:function(){return this.resultsMaxHeight=window.innerHeight-document.getElementById("shopify-section-header").getBoundingClientRect().bottom,this.resultsMaxHeight}},{key:"open",value:function(){this.predictiveSearchResults.style.maxHeight=this.resultsMaxHeight||"".concat(this.getResultsMaxHeight(),"px"),this.setAttribute("open",!0),this.input.setAttribute("aria-expanded",!0),this.isOpen=!0}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.input.value="",this.removeAttribute("results"));var t=this.querySelector('[aria-selected="true"]');t&&t.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",""),this.removeAttribute("open"),this.input.setAttribute("aria-expanded",!1),this.resultsMaxHeight=!1,this.predictiveSearchResults.removeAttribute("style"),this.isOpen=!1}}]),i}((0,i(112).Z)(HTMLElement));customElements.define("predictive-search",c)}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,i,s,r){if(!i){var u=1/0;for(h=0;h<e.length;h++){i=e[h][0],s=e[h][1],r=e[h][2];for(var o=!0,a=0;a<i.length;a++)(!1&r||u>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[a])}))?i.splice(a--,1):(o=!1,r<u&&(u=r));if(o){e.splice(h--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[i,s,r]},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.j=638,function(){var e={638:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,r,u=i[0],o=i[1],a=i[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(a)var h=a(n)}for(t&&t(i);c<u.length;c++)r=u[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(h)},i=self.webpackChunkalessi_dawn=self.webpackChunkalessi_dawn||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var s=n.O(void 0,[736],(function(){return n(198)}));s=n.O(s)}();